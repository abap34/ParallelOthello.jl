# ParallelOthello.jl

```
.
ParallelOthello.jl/
├── Manifest.toml
├── Project.toml
├── README.md
├── runner.jl
└── src
    ├── ParallelOthello.jl
    ├── game
    │   ├── game.jl
    │   └── judge.jl
    └── solvers
        ├── alphabeta.jl
        ├── firstchoice.jl
        ├── human.jl
        ├── minmax.jl
        ├── paralellalphabeta.jl
        ├── parallelminmax.jl
        ├── random.jl
        ├── solvers.jl
        └── utils.jl
```


## 使い方

### 対戦の実行

```bash
> julia --project="ParallelOthello.jl" --threads 8
```


```julia
julia> include("ParallelOthello.jl/runner.jl")
battle (generic function with 1 method)

julia> solver1 = RandomChoice()
RandomChoice()

julia> solver2 = RandomChoice()
RandomChoice()

julia> start_game(solver1, solver2, auto=true) # 対戦スタート
Start
┌───┬────┬────┬────┬────┬────┬────┬────┬────┐
│   │  a │  b │  c │  d │  e │  f │  g │  h │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 1 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 2 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 3 │    │    │    │    │ 🔸 │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 4 │    │    │    │ ⚫️  │ ⚪️  │ 🔸 │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 5 │    │    │ 🔸  │ ⚪️  │ ⚫️ │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 6 │    │    │    │ 🔸 │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 7 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 8 │    │    │    │    │    │    │    │    │
└───┴────┴────┴────┴────┴────┴────┴────┴────┘
====== Turn 1 ======

My turn.
Choice from RandomChoice() : (3, 'e')
put
┌───┬────┬────┬────┬────┬────┬────┬────┬────┐
│   │  a │  b │  c │  d │  e │  f │  g │  h │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 1 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 2 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 3 │    │    │    │    │ ⚫️  │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 4 │    │    │    │ ⚫️  │ ⚫️  │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 5 │    │    │ 🔸  │ ⚪️  │ ⚫️  │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 6 │    │    │ 🔸  │ 🔸 │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 7 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 8 │    │    │    │    │    │    │    │    │
└───┴────┴────┴────┴────┴────┴────┴────┴────┘
====== Turn 2 ======
...

julia> battle(solver1, solver2)  # 256回対戦を行い成績を算出.
                                    Result
                  ┌                                        ┐
   RandomChoice() ┤■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ 119
   RandomChoice() ┤■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ 122
             Draw ┤■■■■ 15
                  └
```


以下の探索アルゴリズムを実装しています.

```julia
julia> subtypes(AbstractSolver)
7-element Vector{Any}:
 AlphaBeta
 FirstChoice
 Human
 MinMax
 ParallelAlphaBeta
 ParallelMinMax
 RandomChoice
```

`Human()`をつかうと対戦できます。

```julia
julia> solver1 = Human()
Human()

julia> solver2 = ParallelAlphaBeta(4)
ParallelAlphaBeta(4)

julia> start_game(solver1, solver2)
Start
┌───┬────┬────┬────┬────┬────┬────┬────┬────┐
│   │  a │  b │  c │  d │  e │  f │  g │  h │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 1 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 2 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 3 │    │    │    │    │ 🔸 │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 4 │    │    │    │ ⚫️  │ ⚪️  │ 🔸  │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 5 │    │    │ 🔸  │ ⚪️  │ ⚫️  │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 6 │    │    │    │ 🔸 │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 7 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 8 │    │    │    │    │    │    │    │    │
└───┴────┴────┴────┴────┴────┴────┴────┴────┘
====== Turn 1 ======
Black Turn
Enter to start choice.

> : 3 e
Choice from Human() : (3, 'e')
put
┌───┬────┬────┬────┬────┬────┬────┬────┬────┐
│   │  a │  b │  c │  d │  e │  f │  g │  h │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 1 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 2 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 3 │    │    │    │ 🔸 │ ⚫️ │ 🔸 │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 4 │    │    │    │ ⚫️ │ ⚫️ │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 5 │    │    │    │ ⚪️ │ ⚫️ │ 🔸 │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 6 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 7 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 8 │    │    │    │    │    │    │    │    │
└───┴────┴────┴────┴────┴────┴────┴────┴────┘
====== Turn 2 ======
White Turn
Enter to start choice.

Choice from ParallelAlphaBeta(4) : (5, 'f')
put
┌───┬────┬────┬────┬────┬────┬────┬────┬────┐
│   │  a │  b │  c │  d │  e │  f │  g │  h │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 1 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 2 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 3 │    │    │    │    │ ⚫️ │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 4 │    │    │    │ ⚫️ │ ⚫️ │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 5 │    │    │    │ ⚪️ │ ⚪️ │ ⚪️ │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 6 │    │    │ 🔸 │ 🔸 │ 🔸 │ 🔸 │ 🔸 │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 7 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 8 │    │    │    │    │    │    │    │    │
└───┴────┴────┴────┴────┴────┴────┴────┴────┘
====== Turn 3 ======
...
```