# ParallelOthello.jl

```
.
├── ParallelOthello.jl
│   ├── Manifest.toml       # Julia言語の仮想環境を管理するファイル
│   ├── Project.toml        # Julia言語の仮想環境を管理するファイル
│   ├── runner.jl           # ゲームを実行するファイル
│   └── src
│       ├── ParallelOthello.jl  # パッケージの全体を管理する
│       ├── game
│       │   ├── game.jl       # ゲーム全体を管理する
│       │   └── judge.jl      # 反転や合法手などを管理する
│       └── solvers
│           ├── alphabeta.jl  # アルファベータ法
│           ├── firstchoice.jl  # 一番左下にある手を返す
│           ├── minmax.jl     # ミニマックス法
│           ├── paralellalphabeta.jl  # 並列化したアルファベータ法
│           ├── parrallelminmax.jl    # 並列化したミニマックス法
│           ├── random.jl     # ランダムに手を返す
│           ├── solvers.jl    # ソルバー全体を管理する
│           └── utils.jl      # ソルバーのユーティリティ
├── README.md
└── report.pdf
```


## 使い方

### 対戦の実行

```bash
> julia --project="ParallelOthello.jl" --threads 8
```


```julia
julia> include("ParallelOthello.jl/runner.jl")
battle (generic function with 1 method)

julia> solver1 = RandomChoice()
RandomChoice()

julia> solver2 = RandomChoice()
RandomChoice()

julia> start_game(solver1, solver2) # 対戦スタート
Start
┌───┬────┬────┬────┬────┬────┬────┬────┬────┐
│   │  a │  b │  c │  d │  e │  f │  g │  h │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 1 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 2 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 3 │    │    │    │    │ 🔸 │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 4 │    │    │    │ ⚫️  │ ⚪️  │ 🔸 │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 5 │    │    │ 🔸  │ ⚪️  │ ⚫️ │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 6 │    │    │    │ 🔸 │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 7 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 8 │    │    │    │    │    │    │    │    │
└───┴────┴────┴────┴────┴────┴────┴────┴────┘
====== Turn 1 ======

My turn.
Choice from RandomChoice() : (3, 'e')
put
┌───┬────┬────┬────┬────┬────┬────┬────┬────┐
│   │  a │  b │  c │  d │  e │  f │  g │  h │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 1 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 2 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 3 │    │    │    │    │ ⚫️  │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 4 │    │    │    │ ⚫️  │ ⚫️  │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 5 │    │    │ 🔸  │ ⚪️  │ ⚫️  │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 6 │    │    │ 🔸  │ 🔸 │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 7 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 8 │    │    │    │    │    │    │    │    │
└───┴────┴────┴────┴────┴────┴────┴────┴────┘
====== Turn 2 ======
...

julia> battle(solver1, solver2)  # 256回対戦を行い成績を算出.
                                    Result
                  ┌                                        ┐
   RandomChoice() ┤■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ 119
   RandomChoice() ┤■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ 122
             Draw ┤■■■■ 15
                  └
```


以下の探索アルゴリズムを実装しています.

```julia
julia> subtypes(AbstractSolver)
7-element Vector{Any}:
 AlphaBeta
 FirstChoice
 Human
 MinMax
 ParallelAlphaBeta
 ParallelMinMax
 RandomChoice
```

`Human()`をつかうと対戦できます。

```julia
julia> solver1 = Human()
Human()

julia> solver2 = ParallelAlphaBeta(4)
ParallelAlphaBeta(4)

julia> start_game(solver1, solver2)
Start
┌───┬────┬────┬────┬────┬────┬────┬────┬────┐
│   │  a │  b │  c │  d │  e │  f │  g │  h │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 1 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 2 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 3 │    │    │    │    │ 🔸 │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 4 │    │    │    │ ⚫️  │ ⚪️  │ 🔸  │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 5 │    │    │ 🔸  │ ⚪️  │ ⚫️  │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 6 │    │    │    │ 🔸 │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 7 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 8 │    │    │    │    │    │    │    │    │
└───┴────┴────┴────┴────┴────┴────┴────┴────┘
====== Turn 1 ======
Black Turn
Enter to start choice.

> : 3 e
Choice from Human() : (3, 'e')
put
┌───┬────┬────┬────┬────┬────┬────┬────┬────┐
│   │  a │  b │  c │  d │  e │  f │  g │  h │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 1 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 2 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 3 │    │    │    │ 🔸 │ ⚫️ │ 🔸 │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 4 │    │    │    │ ⚫️ │ ⚫️ │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 5 │    │    │    │ ⚪️ │ ⚫️ │ 🔸 │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 6 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 7 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 8 │    │    │    │    │    │    │    │    │
└───┴────┴────┴────┴────┴────┴────┴────┴────┘
====== Turn 2 ======
White Turn
Enter to start choice.

Choice from ParallelAlphaBeta(4) : (5, 'f')
put
┌───┬────┬────┬────┬────┬────┬────┬────┬────┐
│   │  a │  b │  c │  d │  e │  f │  g │  h │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 1 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 2 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 3 │    │    │    │    │ ⚫️ │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 4 │    │    │    │ ⚫️ │ ⚫️ │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 5 │    │    │    │ ⚪️ │ ⚪️ │ ⚪️ │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 6 │    │    │ 🔸 │ 🔸 │ 🔸 │ 🔸 │ 🔸 │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 7 │    │    │    │    │    │    │    │    │
├───┼────┼────┼────┼────┼────┼────┼────┼────┤
│ 8 │    │    │    │    │    │    │    │    │
└───┴────┴────┴────┴────┴────┴────┴────┴────┘
====== Turn 3 ======
...
```